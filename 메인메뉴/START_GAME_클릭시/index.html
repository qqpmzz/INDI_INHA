<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lost Spells - ê²Œì„ëª¨ë“œ ì„ íƒ</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-menu">
        <div class="currency-display">
            <div class="currency-item">
                <span class="currency-icon">ğŸ’</span>
                <span class="currency-divider">|</span>
                <span class="currency-amount">3</span>
            </div>
            <div class="currency-item">
                <span class="currency-icon">ğŸ”®</span>
                <span class="currency-divider">|</span>
                <span class="currency-amount">11</span>
            </div>
        </div>

        <div class="title-section">
            <h1 class="game-title">LOST SPELLS</h1>
            <div class="subtitle">MAGIC ADVENTURE GAME</div>
        </div>

        <div class="menu-section">
            <div class="menu-buttons">
                <button class="menu-btn gameplay-btn">
                    <span class="btn-icon">âš”ï¸</span>
                    <span class="btn-text">START GAME</span>
                </button>

                <button class="menu-btn options-btn">
                    <span class="btn-icon">âš™ï¸</span>
                    <span class="btn-text">SETTINGS</span>
                </button>

                <button class="menu-btn shop-btn">
                    <span class="btn-icon">ğŸª</span>
                    <span class="btn-text">SHOP</span>
                </button>

                <button class="menu-btn exit-btn">
                    <span class="btn-icon">ğŸšª</span>
                    <span class="btn-text">QUIT</span>
                </button>
            </div>
        </div>

        <div class="background-decoration">
            <div class="magic-circle circle1"></div>
            <div class="magic-circle circle2"></div>
            <div class="magic-particle particle1"></div>
            <div class="magic-particle particle2"></div>
            <div class="magic-particle particle3"></div>
            <div class="magic-particle particle4"></div>
            <div class="magic-particle particle5"></div>
        </div>
    </div>

    <!-- ê²Œì„ëª¨ë“œ ì„ íƒ íŒì—… -->
    <div class="modal-overlay">
        <div class="gamemode-modal">
            <div class="modal-header">
                <h2 class="modal-title">SELECT GAME MODE</h2>
                <button class="modal-close-btn">Ã—</button>
            </div>

            <div class="gamemode-buttons">
                <button class="gamemode-btn story-mode">
                    <span class="gamemode-icon">ğŸ“–</span>
                    <div class="gamemode-content">
                        <span class="gamemode-title">STORY MODE</span>
                        <span class="gamemode-desc">Follow the epic journey to reclaim lost spells</span>
                    </div>
                </button>

                <button class="gamemode-btn chapter-select">
                    <span class="gamemode-icon">ğŸ—‚ï¸</span>
                    <div class="gamemode-content">
                        <span class="gamemode-title">CHAPTER SELECT</span>
                        <span class="gamemode-desc">Choose and replay specific chapters</span>
                    </div>
                </button>

                <button class="gamemode-btn endless-mode">
                    <span class="gamemode-icon">â™¾ï¸</span>
                    <div class="gamemode-content">
                        <span class="gamemode-title">ENDLESS MODE</span>
                        <span class="gamemode-desc">Survive infinite waves of enemies</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- ë¬´í•œëª¨ë“œ ìƒì„¸ íŒì—… -->
    <div class="endless-modal-overlay" id="endlessModal">
        <div class="endless-modal">
            <div class="endless-modal-header">
                <h2 class="endless-modal-title">
                    <span class="endless-icon">ğŸŒ€</span>
                    ENDLESS MODE
                </h2>
                <button class="endless-close-btn" onclick="closeEndlessModal()">Ã—</button>
            </div>

            <div class="endless-modal-content">
                <!-- ëª¨ë“œ ì„¤ëª… -->
                <div class="mode-description">
                    <p class="mode-desc-main">ëª¨ë“  ì±•í„°ì˜ ì ë“¤ì´ ë¬´ì‘ìœ„ë¡œ ë“±ì¥í•˜ëŠ” ëì—†ëŠ” ë„ì „!</p>
                    <div class="mode-features">
                        <div class="feature-tag">ğŸ² ë¬´ì‘ìœ„ ì </div>
                        <div class="feature-tag">ğŸ“ˆ ë‚œì´ë„ ì¦ê°€</div>
                        <div class="feature-tag">ğŸ† ìµœê³  ê¸°ë¡</div>
                    </div>
                </div>

                <!-- ìµœê³  ê¸°ë¡ -->
                <div class="best-records">
                    <h3 class="records-title">ğŸ‘‘ ìµœê³  ê¸°ë¡</h3>
                    <div class="records-grid">
                        <div class="record-item">
                            <span class="record-icon">â­</span>
                            <div class="record-info">
                                <span class="record-label">ìµœê³  ì ìˆ˜</span>
                                <span class="record-value" id="bestScore">245,780</span>
                            </div>
                        </div>
                        <div class="record-item">
                            <span class="record-icon">ğŸŒŠ</span>
                            <div class="record-info">
                                <span class="record-label">ìµœëŒ€ ì›¨ì´ë¸Œ</span>
                                <span class="record-value" id="bestWave">63</span>
                            </div>
                        </div>
                        <div class="record-item">
                            <span class="record-icon">â°</span>
                            <div class="record-info">
                                <span class="record-label">ìµœì¥ ìƒì¡´</span>
                                <span class="record-value" id="bestTime">47:23</span>
                            </div>
                        </div>
                        <div class="record-item skills-record">
                            <span class="record-icon">âœ¨</span>
                            <div class="record-info">
                                <span class="record-label">ìì£¼ ì‚¬ìš©í•œ ìŠ¤í‚¬</span>
                                <div class="skill-emojis" id="topSkills">
                                    <span class="skill-emoji">ğŸ”¥</span>
                                    <span class="skill-emoji">â„ï¸</span>
                                    <span class="skill-emoji">âš¡</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- í†µê³„ ì •ë³´ -->
                <div class="stats-section">
                    <div class="stat-row">
                        <span class="stat-label">ì´ í”Œë ˆì´</span>
                        <span class="stat-value" id="totalPlays">156íšŒ</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">í‰ê·  ì›¨ì´ë¸Œ</span>
                        <span class="stat-value" id="avgWave">18.7</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">ì²˜ì¹˜í•œ ì </span>
                        <span class="stat-value" id="totalKills">4,892</span>
                    </div>
                </div>

                <!-- ì‹œì‘ ë²„íŠ¼ -->
                <button class="endless-start-btn" onclick="startEndlessMode()">
                    <span class="start-btn-icon">ğŸš€</span>
                    <span class="start-btn-text">ë„ì „í•˜ê¸°</span>
                </button>

                <div class="endless-tip">
                    ğŸ’¡ íŒ: ë‹¤ì–‘í•œ ì†ì„±ì˜ ìŠ¤í‚¬ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”!
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê²Œì„ëª¨ë“œ ì„ íƒ íŒì—… ì œì–´
        const modalOverlay = document.querySelector('.modal-overlay');
        const gameplayBtn = document.querySelector('.gameplay-btn');
        const modalCloseBtn = document.querySelector('.modal-close-btn');

        gameplayBtn.addEventListener('click', () => {
            modalOverlay.style.display = 'flex';
        });

        modalCloseBtn.addEventListener('click', () => {
            modalOverlay.style.display = 'none';
        });

        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });

        // ê²Œì„ëª¨ë“œ ë²„íŠ¼ ì´ë²¤íŠ¸
        document.querySelector('.story-mode').addEventListener('click', () => {
            window.location.href = '../STORY_MODE_ì„ íƒì‹œ/index.html';
        });

        document.querySelector('.chapter-select').addEventListener('click', () => {
            window.location.href = '../CHAPTER_SELECT_ì„ íƒì‹œ/index.html';
        });

        document.querySelector('.endless-mode').addEventListener('click', () => {
            showEndlessModal();
        });

        // ë¬´í•œëª¨ë“œ íŒì—… ì œì–´
        function showEndlessModal() {
            document.getElementById('endlessModal').style.display = 'flex';
            updateEndlessRecords();
        }

        function closeEndlessModal() {
            document.getElementById('endlessModal').style.display = 'none';
        }

        function startEndlessMode() {
            // ì‹¤ì œ ê²Œì„ ì‹œì‘
            window.location.href = '../../ê²Œì„í™”ë©´/ê¸°ë³¸ê²Œì„í™”ë©´/index.html?mode=endless';
        }

        // ê¸°ë¡ ì—…ë°ì´íŠ¸
        function updateEndlessRecords() {
            const records = {
                bestScore: Math.floor(Math.random() * 300000) + 100000,
                bestWave: Math.floor(Math.random() * 50) + 30,
                bestTime: generateRandomTime(),
                totalPlays: Math.floor(Math.random() * 200) + 100,
                avgWave: (Math.random() * 20 + 15).toFixed(1),
                totalKills: Math.floor(Math.random() * 6000) + 3000
            };

            document.getElementById('bestScore').textContent = records.bestScore.toLocaleString();
            document.getElementById('bestWave').textContent = records.bestWave;
            document.getElementById('bestTime').textContent = records.bestTime;
            document.getElementById('totalPlays').textContent = records.totalPlays + 'íšŒ';
            document.getElementById('avgWave').textContent = records.avgWave;
            document.getElementById('totalKills').textContent = records.totalKills.toLocaleString();

            updateSkillEmojis();
        }

        function generateRandomTime() {
            const minutes = Math.floor(Math.random() * 50) + 20;
            const seconds = Math.floor(Math.random() * 60);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateSkillEmojis() {
            const skills = ['ğŸ”¥', 'â„ï¸', 'âš¡', 'ğŸ’š', 'ğŸ›¡ï¸', 'ğŸŒŸ', 'ğŸ’¨', 'ğŸŒ™', 'â˜€ï¸', 'ğŸ”®'];
            const container = document.getElementById('topSkills');
            container.innerHTML = '';

            for (let i = 0; i < 3; i++) {
                const randomSkill = skills[Math.floor(Math.random() * skills.length)];
                const span = document.createElement('span');
                span.className = 'skill-emoji';
                span.textContent = randomSkill;
                container.appendChild(span);
            }
        }

        // ESC í‚¤ë¡œ íŒì—… ë‹«ê¸°
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                modalOverlay.style.display = 'none';
                closeEndlessModal();
            }
        });
    </script>
</body>

</html>