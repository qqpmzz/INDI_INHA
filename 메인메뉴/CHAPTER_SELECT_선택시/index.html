<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lost Spells - Chapter Select</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Î©îÏù∏ Î©îÎâ¥ Î∞∞Í≤Ω (Î∏îÎü¨ Ï≤òÎ¶¨) -->
    <div class="main-menu">
        <!-- ÌôîÌèê ÌëúÏãú -->
        <div class="currency-display">
            <div class="currency-item">
                <span class="currency-icon">üíé</span>
                <span class="currency-divider">|</span>
                <span class="currency-amount">3</span>
            </div>
            <div class="currency-item">
                <span class="currency-icon">üîÆ</span>
                <span class="currency-divider">|</span>
                <span class="currency-amount">11</span>
            </div>
        </div>

        <!-- ÌÉÄÏù¥ÌãÄ ÏÑπÏÖò -->
        <div class="title-section">
            <h1 class="game-title">LOST SPELLS</h1>
            <p class="subtitle">MAGIC ADVENTURE GAME</p>
        </div>

        <!-- Î©îÏù∏ Î©îÎâ¥ Î≤ÑÌäºÎì§ -->
        <div class="menu-section">
            <div class="menu-buttons">
                <button class="menu-btn gameplay-btn">
                    <span class="btn-icon">üéÆ</span>
                    <span class="btn-text">START GAME</span>
                </button>
                <button class="menu-btn options-btn">
                    <span class="btn-icon">‚öôÔ∏è</span>
                    <span class="btn-text">SETTINGS</span>
                </button>
                <button class="menu-btn shop-btn">
                    <span class="btn-icon">üõçÔ∏è</span>
                    <span class="btn-text">SHOP</span>
                </button>
                <button class="menu-btn exit-btn">
                    <span class="btn-icon">üö™</span>
                    <span class="btn-text">QUIT</span>
                </button>
            </div>
        </div>

        <!-- Î∞∞Í≤Ω Ïû•Ïãù -->
        <div class="background-decoration">
            <div class="magic-circle circle1"></div>
            <div class="magic-circle circle2"></div>
            <div class="magic-particle particle1"></div>
            <div class="magic-particle particle2"></div>
            <div class="magic-particle particle3"></div>
            <div class="magic-particle particle4"></div>
            <div class="magic-particle particle5"></div>
        </div>
    </div>

    <!-- Ï±ïÌÑ∞ ÏÑ†ÌÉù Î™®Îã¨ -->
    <div class="modal-overlay" id="chapterModal">
        <div class="chapter-modal">
            <!-- Î™®Îã¨ Ìó§Îçî -->
            <div class="modal-header">
                <h2 class="modal-title">CHAPTER SELECT</h2>
                <button class="modal-close-btn" onclick="closeChapterModal()">√ó</button>
            </div>

            <!-- Ï±ïÌÑ∞ Ï∫êÎü¨ÏÖÄ Ïª®ÌÖåÏù¥ÎÑà -->
            <div class="chapter-carousel-container">
                <!-- Ïù¥Ï†Ñ Î≤ÑÌäº -->
                <button class="carousel-nav-btn prev-btn" id="prevBtn" onclick="slideChapters(-1)">
                    <span class="nav-arrow">‚Äπ</span>
                </button>

                <!-- Ï±ïÌÑ∞ Ïπ¥Îìú Ïª®ÌÖåÏù¥ÎÑà -->
                <div class="chapters-viewport">
                    <div class="chapters-container" id="chaptersContainer">
                        <!-- Ï±ïÌÑ∞ 1 -->
                        <div class="chapter-card completed" data-chapter="1">
                            <div class="chapter-number">01</div>
                            <div class="chapter-status-icon">‚úì</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">The Lost Words</h3>
                                <p class="chapter-subtitle">ÏûÉÏñ¥ÏßÑ ÏÇ¨Ïûê</p>
                                <div class="chapter-icon">
                                    <div class="icon-container sunset">
                                        <div class="icon-bg"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 100%"></div>
                                </div>
                                <span class="progress-text">100% Complete</span>
                            </div>
                            <button class="play-chapter-btn completed-btn" onclick="startChapter(1)">PLAY</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 2 -->
                        <div class="chapter-card in-progress" data-chapter="2">
                            <div class="chapter-number">02</div>
                            <div class="chapter-status-icon">‚ñ∂</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Echoes of Pride</h3>
                                <p class="chapter-subtitle">ÍµêÎßåÏùò Î©îÏïÑÎ¶¨</p>
                                <div class="chapter-icon">
                                    <div class="icon-container crossed-swords">
                                        <div class="sword-left"></div>
                                        <div class="sword-right"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 67%"></div>
                                </div>
                                <span class="progress-text">67% Complete</span>
                            </div>
                            <button class="play-chapter-btn active-btn" onclick="startChapter(2)">CONTINUE</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 3 -->
                        <div class="chapter-card locked" data-chapter="3">
                            <div class="chapter-number">03</div>
                            <div class="chapter-status-icon">üîí</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Greed's Whisper</h3>
                                <p class="chapter-subtitle">ÌÉêÏöïÏùò ÏÜçÏÇ≠ÏûÑ</p>
                                <div class="chapter-icon">
                                    <div class="icon-container money-bag">
                                        <div class="bag-icon">üí∞</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span class="progress-text">Locked</span>
                            </div>
                            <button class="play-chapter-btn locked-btn" disabled>LOCKED</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 4 -->
                        <div class="chapter-card locked" data-chapter="4">
                            <div class="chapter-number">04</div>
                            <div class="chapter-status-icon">üîí</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Flames of Wrath</h3>
                                <p class="chapter-subtitle">Î∂ÑÎÖ∏Ïùò Î∂àÍΩÉ</p>
                                <div class="chapter-icon">
                                    <div class="icon-container flame">
                                        <div class="flame-icon">‚öîÔ∏è</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span class="progress-text">Locked</span>
                            </div>
                            <button class="play-chapter-btn locked-btn" disabled>LOCKED</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 5 -->
                        <div class="chapter-card locked" data-chapter="5">
                            <div class="chapter-number">05</div>
                            <div class="chapter-status-icon">üîí</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Shadows of Sloth</h3>
                                <p class="chapter-subtitle">ÎÇòÌÉúÏùò Í∑∏Î¶ºÏûê</p>
                                <div class="chapter-icon">
                                    <div class="icon-container shadow">
                                        <div class="shadow-icon">ÔøΩ</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span class="progress-text">Locked</span>
                            </div>
                            <button class="play-chapter-btn locked-btn" disabled>LOCKED</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 6 -->
                        <div class="chapter-card locked" data-chapter="6">
                            <div class="chapter-number">06</div>
                            <div class="chapter-status-icon">üîí</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Hunger of Gluttony</h3>
                                <p class="chapter-subtitle">ÌÉêÏãùÏùò Íµ∂Ï£ºÎ¶º</p>
                                <div class="chapter-icon">
                                    <div class="icon-container hunger">
                                        <div class="hunger-icon">ÔøΩ</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span class="progress-text">Locked</span>
                            </div>
                            <button class="play-chapter-btn locked-btn" disabled>LOCKED</button>
                        </div>

                        <!-- Ï±ïÌÑ∞ 7 -->
                        <div class="chapter-card locked" data-chapter="7">
                            <div class="chapter-number">07</div>
                            <div class="chapter-status-icon">üîí</div>
                            <div class="chapter-content">
                                <h3 class="chapter-title">Greed's End</h3>
                                <p class="chapter-subtitle">ÌÉêÏöïÏùò ÎÅù</p>
                                <div class="chapter-icon">
                                    <div class="icon-container crown">
                                        <div class="crown-icon">ÔøΩ</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chapter-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span class="progress-text">Locked</span>
                            </div>
                            <button class="play-chapter-btn locked-btn" disabled>LOCKED</button>
                        </div>
                    </div>
                </div>

                <!-- Îã§Ïùå Î≤ÑÌäº -->
                <button class="carousel-nav-btn next-btn" id="nextBtn" onclick="slideChapters(1)">
                    <span class="nav-arrow">‚Ä∫</span>
                </button>
            </div>

            <!-- Ï±ïÌÑ∞ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ -->
            <div class="chapter-indicators">
                <div class="indicator-container">
                    <div class="indicator active" data-start="0"></div>
                    <div class="indicator" data-start="1"></div>
                    <div class="indicator" data-start="2"></div>
                    <div class="indicator" data-start="3"></div>
                    <div class="indicator" data-start="4"></div>
                </div>
            </div>

            <!-- Î™®Îã¨ Ìë∏ÌÑ∞ -->
            <div class="modal-footer">
                <button class="back-to-menu-btn" onclick="closeChapterModal()">
                    <span class="back-arrow">‚Üê</span>
                    <span class="back-text">Back to Menu</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const totalChapters = 7;
        const chaptersPerView = 3;
        const maxSlide = totalChapters - chaptersPerView;

        // Ï¥àÍ∏∞Ìôî
        window.addEventListener('DOMContentLoaded', function () {
            showChapterModal();
            updateNavigationButtons();
            updateIndicators();
        });

        // Ï±ïÌÑ∞ ÏÑ†ÌÉù Î™®Îã¨ ÌëúÏãú
        function showChapterModal() {
            document.getElementById('chapterModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        // Ï±ïÌÑ∞ ÏÑ†ÌÉù Î™®Îã¨ Îã´Í∏∞
        function closeChapterModal() {
            document.getElementById('chapterModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Ï±ïÌÑ∞ Ïä¨ÎùºÏù¥Îìú Ïù¥Îèô
        function slideChapters(direction) {
            const newSlide = currentSlide + direction;

            if (newSlide >= 0 && newSlide <= maxSlide) {
                currentSlide = newSlide;
                const container = document.getElementById('chaptersContainer');
                const cardWidth = 300; // Ïπ¥Îìú ÌïòÎÇòÏùò ÎÑàÎπÑ(280px) + ÎßàÏßÑ(20px)
                const translateX = -currentSlide * cardWidth;

                container.style.transform = `translateX(${translateX}px)`;
                updateNavigationButtons();
                updateIndicators();
            }
        }

        // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.disabled = currentSlide <= 0;
            nextBtn.disabled = currentSlide >= maxSlide;

            prevBtn.style.opacity = prevBtn.disabled ? '0.3' : '1';
            nextBtn.style.opacity = nextBtn.disabled ? '0.3' : '1';
        }

        // Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
        function updateIndicators() {
            const indicators = document.querySelectorAll('.indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.remove('active');
                if (index === currentSlide) {
                    indicator.classList.add('active');
                }
            });
        }

        // Ï±ïÌÑ∞ ÏãúÏûë
        function startChapter(chapterNumber) {
            const chapter = document.querySelector(`[data-chapter="${chapterNumber}"]`);

            if (chapter.classList.contains('locked')) {
                alert('Ïù¥Ï†Ñ Ï±ïÌÑ∞Î•º ÏôÑÎ£åÌï¥Ïïº Ìï©ÎãàÎã§!');
                return;
            }

            if (chapter.classList.contains('completed')) {
                if (confirm(`Ï±ïÌÑ∞ ${chapterNumber}Î•º Îã§Ïãú ÌîåÎ†àÏù¥ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    console.log(`Replaying Chapter ${chapterNumber}`);
                    // Ïó¨Í∏∞Ïóê Ï±ïÌÑ∞ ÏãúÏûë Î°úÏßÅ Ï∂îÍ∞Ä
                }
            } else if (chapter.classList.contains('in-progress')) {
                if (confirm(`Ï±ïÌÑ∞ ${chapterNumber}Î•º Ïù¥Ïñ¥ÏÑú ÌîåÎ†àÏù¥ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    console.log(`Continuing Chapter ${chapterNumber}`);
                    // Ïó¨Í∏∞Ïóê Ï±ïÌÑ∞ Í≥ÑÏÜçÌïòÍ∏∞ Î°úÏßÅ Ï∂îÍ∞Ä
                }
            }
        }

        // ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
        document.addEventListener('keydown', function (e) {
            if (document.getElementById('chapterModal').style.display === 'flex') {
                if (e.key === 'ArrowLeft') {
                    slideChapters(-1);
                } else if (e.key === 'ArrowRight') {
                    slideChapters(1);
                } else if (e.key === 'Escape') {
                    closeChapterModal();
                }
            }
        });

        // ÌÑ∞Ïπò Ïù¥Î≤§Ìä∏ (Î™®Î∞îÏùº ÏßÄÏõê)
        let startX = 0;
        let endX = 0;
        const viewport = document.querySelector('.chapters-viewport');

        viewport.addEventListener('touchstart', function (e) {
            startX = e.touches[0].clientX;
        });

        viewport.addEventListener('touchend', function (e) {
            endX = e.changedTouches[0].clientX;
            const difference = startX - endX;

            if (Math.abs(difference) > 50) { // 50px Ïù¥ÏÉÅ Ïä§ÏôÄÏù¥ÌîÑ
                if (difference > 0) {
                    slideChapters(1); // Îã§Ïùå
                } else {
                    slideChapters(-1); // Ïù¥Ï†Ñ
                }
            }
        });
    </script>
</body>

</html>